import {handleAxios} from '../ultils'

const secret_key = localStorage.getItem('refreshToken')

const setupHeader = url => handleAxios(url, 'get', null, {'s-key': secret_key})

const ExploiteCustomerLeadsApi = {
  statistic: {
    getStatisticGroupExploitedQuery: () =>
      handleAxios('/statistic/group_mining_statistic', 'get'),
    getStatisticPostExploitedQuery: setupHeader(
      '/general/post_mining_statistic',
    ),
    getStatisticFanpageExploitedQuery: setupHeader(
      '/statistic/fanpage_mining_statistic',
    ),
    getStatisticProfileExploitedQuery: setupHeader(
      '/statistic/profile_mining_statistic',
    ),
  },
  common_table: {
    getListRecentlyExtractedLinkQuery: handleAxios(
      '/general/recent_retrieval_link',
      'get',
    ),
    postAddLinkCrawlQuery: handleAxios('/crawl/add_links', 'post'),
  },
  group: {
    getGroupExploitedInfoQuery: id =>
      handleAxios(`/statistic/get_group_info/${id}`, 'get', null, {
        's-key': secret_key,
      }),
  },
  post: {
    getPostExploitedInfoQuery: id =>
      handleAxios(`/general/get_post_info/${id}`, 'get', null, {
        's-key': secret_key,
      }),
  },
}

export default ExploiteCustomerLeadsApi
